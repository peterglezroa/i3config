# https://powerline.readthedocs.io/en/latest/usage.html

# Expected architecture
# HOME
# '- .fonts
# '- .config


# Dependencies
sudo apt-get install neofetch -y
sudo pip3 install powerline-status
POWERLINELOCATION=$(pip3 show powerline-status | grep Location | tr -s ' ' '#' | cut -f2 -d#)

# Fonts
wget https://github.com/powerline/powerline/raw/develop/font/PowerlineSymbols.otf
wget https://github.com/powerline/powerline/raw/develop/font/10-powerline-symbols.conf

sudo mv PowerlineSymbols.otf ~/.fonts/

fc-cache -vf ~/.fonts/

# Copy config
cp config ~/.config/powerline

# Bash
echo "" >> ~/bash.rc
echo "#Powerline" >> ~/.bashrc
echo ". $POWERLINELOCATION/powerline/bindings/bash/powerline.sh" >> ~/.bashrc

# Vim if not linked
#echo "python3 from powerline.vim import setup as powerline_setup" >> ~/.vimrc
#echo "python3 powerline_setup()" >>  ~/.vimrc
#echo "python3 del powerline_setup" >> ~/.vimrc
